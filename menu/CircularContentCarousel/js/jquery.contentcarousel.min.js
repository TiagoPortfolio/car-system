!function(n){var i={navigate:function(i,t,o,e,s){var p=e.scroll,a=1,c=0;if(s.expanded&&(p=1,a=1,c=s.idxClicked),1===i)o.find("div.ca-item:lt("+p+")").each(function(i){n(this).clone(!0).css("left",(s.totalItems-c+i)*s.itemW*a+"px").appendTo(o)});else{var r=o.children().eq(0);o.find("div.ca-item:gt("+(s.totalItems-1-p)+")").each(function(i){n(this).clone(!0).css("left",-(p-i+c)*s.itemW*a+"px").insertBefore(r)})}o.find("div.ca-item").each(function(t){var o=n(this);o.stop().animate({left:1===i?"-="+s.itemW*a*p+"px":"+="+s.itemW*a*p+"px"},e.sliderSpeed,e.sliderEasing,function(){(1===i&&o.position().left<-c*s.itemW*a||-1===i&&o.position().left>(s.totalItems-1-c)*s.itemW*a)&&o.remove(),s.isAnimating=!1})})},openItem:function(n,t,o,e){e.idxClicked=t.index(),e.winpos=i.getWinPos(t.position().left,e),n.find("div.ca-item").not(t).hide(),t.find("div.ca-content-wrapper").css("left",e.itemW+"px").stop().animate({width:e.itemW+"px",left:e.itemW/2+"px"},o.itemSpeed,o.itemEasing).end().stop().animate({left:"0px"},o.itemSpeed,o.itemEasing,function(){e.isAnimating=!1,e.expanded=!0,i.openItems(n,t,o,e)})},openItems:function(t,o,e,s){var p=o.index();t.find("div.ca-item").each(function(t){var o=n(this),e=o.index();e!==p&&(o.css("left",-(p-e)*(3*s.itemW)+"px").show().find("div.ca-content-wrapper").css({left:s.itemW/2+"px",width:s.itemW+"px"}),i.toggleMore(o,!1))})},toggleMore:function(n,i){i?n.find("a.ca-more").show():n.find("a.ca-more").hide()},closeItems:function(t,o,e,s){var p=o.index();o.find("div.ca-content-wrapper").stop().animate({width:"0px"},e.itemSpeed,e.itemEasing).end().stop().animate({left:s.itemW*(s.winpos-1)+"px"},e.itemSpeed,e.itemEasing,function(){s.isAnimating=!1,s.expanded=!1}),i.toggleMore(o,!0),t.find("div.ca-item").each(function(t){var o=n(this),e=o.index();e!==p&&(o.find("div.ca-content-wrapper").css({width:"0px"}).end().css("left",(s.winpos-1-(p-e))*s.itemW+"px").show(),i.toggleMore(o,!0))})},getWinPos:function(n,i){switch(n){case 0:return 1;case i.itemW:return 2;case 2*i.itemW:return 3}}},t={init:function(t){if(this.length){var o={sliderSpeed:500,sliderEasing:"easeOutExpo",itemSpeed:500,itemEasing:"easeOutExpo",scroll:1};return this.each(function(){t&&n.extend(o,t);var e=n(this),s=e.find("div.ca-wrapper"),p=s.children("div.ca-item"),a={};a.itemW=p.width(),a.totalItems=p.length,a.totalItems>2&&e.prepend('<div class="ca-nav"><span class="ca-nav-prev">Previous</span><span class="ca-nav-next">Next</span></div>'),o.scroll<1?o.scroll=1:o.scroll>3&&(o.scroll=3);var c=e.find("span.ca-nav-prev"),r=e.find("span.ca-nav-next");s.css("overflow","hidden"),p.each(function(i){n(this).css({position:"absolute",left:i*a.itemW+"px"})}),e.find("a.ca-more").on("click.contentcarousel",function(t){if(a.isAnimating)return!1;a.isAnimating=!0,n(this).hide();var e=n(this).closest("div.ca-item");return i.openItem(s,e,o,a),!1}),e.find("a.ca-close").on("click.contentcarousel",function(t){if(a.isAnimating)return!1;a.isAnimating=!0;var e=n(this).closest("div.ca-item");return i.closeItems(s,e,o,a),!1}),n(document).keydown(function(n){auxi==menu&&(37==n.which?c.click():39==n.which&&r.click()),auxi++,9==auxi&&(auxi=1)}),c.bind("click.contentcarousel",function(n){return a.isAnimating?!1:(a.isAnimating=!0,1==menu?option[1]=((option[1]-1)%n_options+n_options)%n_options:2==menu?option[2]=((option[2]-1)%n_options+n_options)%n_options:3==menu?option[3]=((option[3]-1)%n_options+n_options)%n_options:4==menu?option[4]=((option[4]-1)%n_options+n_options)%n_options:6==menu?option[6]=((option[6]-1)%n_options+n_options)%n_options:7==menu?option[7]=((option[7]-1)%n_options+n_options)%n_options:8==menu&&(option[8]=((option[8]-1)%n_options+n_options)%n_options),void i.navigate(-1,e,s,o,a))}),r.bind("click.contentcarousel",function(n){return a.isAnimating?!1:(a.isAnimating=!0,1==menu?option[1]=((option[1]+1)%n_options+n_options)%n_options:2==menu?option[2]=((option[2]+1)%n_options+n_options)%n_options:3==menu?option[3]=((option[3]+1)%n_options+n_options)%n_options:4==menu?option[4]=((option[4]+1)%n_options+n_options)%n_options:6==menu?option[6]=((option[6]+1)%n_options+n_options)%n_options:7==menu?option[7]=((option[7]+1)%n_options+n_options)%n_options:8==menu&&(option[8]=((option[8]+1)%n_options+n_options)%n_options),void i.navigate(1,e,s,o,a))}),e.bind("mousewheel.contentcarousel",function(n,t){if(t>0){if(a.isAnimating)return!1;a.isAnimating=!0,i.navigate(-1,e,s,o,a)}else{if(a.isAnimating)return!1;a.isAnimating=!0,i.navigate(1,e,s,o,a)}return!1})})}}};n.fn.contentcarousel=function(i){return t[i]?t[i].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof i&&i?void(1!=exit&&n.error("Method "+i+" does not exist on jQuery.contentcarousel")):t.init.apply(this,arguments)}}(jQuery);